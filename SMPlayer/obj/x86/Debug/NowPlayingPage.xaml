<Page x:ConnectionId='1'
    x:Class="SMPlayer.NowPlayingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:data="using:SMPlayer.Models"
    xmlns:local="using:SMPlayer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="using:Microsoft.Toolkit.Uwp.UI.Media"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                        
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <TextBlock x:ConnectionId='2'
            x:Name="MusicLibraryTitleTextBlock"
            Style="{StaticResource TitleTextBlockStyle}"
            Text="Now Playing" />
        <CommandBar
            Grid.Row="1"
            Background="Transparent"
            DefaultLabelPosition="Right"
            IsOpen="False">
            <AppBarButton x:ConnectionId='13'
                x:Name="NewListButton"
                                           
                Icon="Add"
                Label="Add To New Playlist" />
            <AppBarButton x:ConnectionId='14'
                x:Name="ClearButton"
                                         
                Icon="Clear"
                Label="Clear All" />
            <AppBarButton x:ConnectionId='15'
                x:Name="FullScreenButton"
                                              
                Icon="FullScreen"
                Label="Full Screen" />
        </CommandBar>
        <ListView x:ConnectionId='3'
            x:Name="SongsListView"
            Grid.Row="2"
            Margin="10"
            HorizontalAlignment="Stretch"
            AllowDrop="True"
            CanDrag="True"
            CanReorderItems="True"
                                                                             
            IsItemClickEnabled="True"
                                               
                                                     
            ReorderMode="Enabled"
            SelectionMode="None">
            <ListView.ItemContainerStyle>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.ItemTemplate>
                <DataTemplate                        >
                    <Grid x:ConnectionId='4'>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="8*" />
                            <ColumnDefinition Width="3*" />
                            <ColumnDefinition Width="5*" />
                            <ColumnDefinition Width="1*" />
                        </Grid.ColumnDefinitions>
                        <Grid.ContextFlyout>
                            <MenuFlyout>
                                <MenuFlyoutItem x:ConnectionId='5'
                                    x:Name="PlayItem"
                                                          
                                    Icon="Play"
                                    Text="Play" />
                                <MenuFlyoutSubItem
                                    x:Name="AddToPlaylistsItem"
                                    Icon="Add"
                                    Text="Add To Playlists">
                                    <MenuFlyoutItem Text="Create New Playlist" />
                                    <MenuFlyoutSeparator />
                                    <MenuFlyoutItem Icon="List" Text="My Favorites" />
                                </MenuFlyoutSubItem>
                                <MenuFlyoutItem x:ConnectionId='6'
                                    x:Name="DeleteItem"
                                                            
                                    Icon="Delete"
                                    Text="Remove From PlayList" />
                                <MenuFlyoutItem
                                    x:Name="MusicInfoItem"
                                    Icon="MusicInfo"
                                    Text="Music Info" />
                                <MenuFlyoutItem x:ConnectionId='7'
                                    x:Name="MoveToTopItem"
                                                               
                                    Icon="Upload"
                                    Text="Move To Top" />
                            </MenuFlyout>
                        </Grid.ContextFlyout>
                        <StackPanel Orientation="Horizontal">
                            <FontIcon x:ConnectionId='11'
                                x:Name="PlayingIcon"
                                Margin="0,0,16,0"
                                FontFamily="Segoe MDL2 Assets"
                                Foreground="{StaticResource SystemColorHighlightColor}"
                                Glyph="&#xE767;"
                                RelativePanel.AlignLeftWithPanel="True"
                                                                                                                                  />
                            <TextBlock x:ConnectionId='12'                                                                                                                 />
                        </StackPanel>
                        <TextBlock x:ConnectionId='8'
                            Grid.Column="1"
                                                                                                                      
                                                   />
                        <TextBlock x:ConnectionId='9'
                            Grid.Column="2"
                                                                                                                      
                                                  />
                        <TextBlock x:ConnectionId='10'
                            Grid.Column="3"
                            HorizontalAlignment="Right"
                                                                                                                      
                                                                                                        />
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
</Page>

